{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import{useDispatchCart,useCart}from'./ContextReducer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Card(props){let dispatch=useDispatchCart();let data=useCart();const priceRef=useRef();let options=props.options;let priceOptions=Object.keys(options);const[qty,setQty]=useState(1);const[size,setSize]=useState(\"\");const handleAddToCart=async()=>{let food=[];for(const item of data){if(item.id===props.foodItem._id){food=item;break;}}if(food!==[]){if(food.size===size){await dispatch({type:\"UPDATE\",id:props.foodItem._id,price:finalPrice,qty:qty});return;}else if(food.size!==size){await dispatch({type:\"ADD\",id:props.foodItem._id,name:props.foodItem.name,price:finalPrice,qty:qty,size:size});return;}return;//console.log(data);\n}await dispatch({type:\"ADD\",id:props.foodItem._id,name:props.foodItem.name,price:finalPrice,qty:qty,size:size});};let finalPrice=qty*parseInt(options[size]);useEffect(()=>{setSize(priceRef.current.value);},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-3\",style:{\"width\":\"18rem\",\"maxHeight\":\"360px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:props.foodItem.img,className:\"card-img-top\",style:{height:\"120px\",objectFit:'fill'},alt:\"...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:props.foodItem.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"container w-100\",children:[/*#__PURE__*/_jsx(\"select\",{className:\"m-2 h-100  rounded\",style:{backgroundColor:\"#800000\"},onChange:e=>setQty(e.target.value),children:Array.from(Array(6),(e,i)=>{return/*#__PURE__*/_jsxs(\"option\",{value:i+1,children:[\" \",i+1,\" \"]},i+1);})}),/*#__PURE__*/_jsx(\"select\",{className:\"m-2 h-100  rounded\",ref:priceRef,style:{backgroundColor:\"#800000\"},onChange:e=>setSize(e.target.value),children:priceOptions.map(data=>{return/*#__PURE__*/_jsx(\"option\",{value:data,children:data},data);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline h-100 fs-5\",children:[\"\\u20B9\",finalPrice,\"/-\"]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark text-white justify-center ms-2\",style:{backgroundColor:\"#800000\"},onClick:handleAddToCart,children:\"Add to Cart\"})]})]})})});}","map":{"version":3,"names":["React","useEffect","useRef","useState","useDispatchCart","useCart","jsx","_jsx","jsxs","_jsxs","Card","props","dispatch","data","priceRef","options","priceOptions","Object","keys","qty","setQty","size","setSize","handleAddToCart","food","item","id","foodItem","_id","type","price","finalPrice","name","parseInt","current","value","children","className","style","src","img","height","objectFit","alt","backgroundColor","onChange","e","target","Array","from","i","ref","map","onClick"],"sources":["/Users/amandeepkaur/Desktop/FoodHub copy/frontend/src/components/Card.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport { useDispatchCart, useCart } from './ContextReducer'\n\nexport default function Card(props) {\n\n    let dispatch = useDispatchCart();\n    let data = useCart();\n    const priceRef = useRef();\n    let options = props.options;\n    let priceOptions = Object.keys(options);\n    const [qty, setQty] = useState(1);\n    const [size, setSize] = useState(\"\")\n\n    const handleAddToCart = async () => {\n\n        let food = []\n        for (const item of data) {\n            if (item.id === props.foodItem._id) {\n                food = item;\n\n                break;\n            }\n        }\n        if (food !== []) {\n\n            if (food.size === size) {\n                await dispatch({ type: \"UPDATE\", id: props.foodItem._id, price: finalPrice, qty: qty })\n                return\n            }\n\n            else if (food.size !== size) {\n\n                await dispatch({ type: \"ADD\", id: props.foodItem._id, name: props.foodItem.name, price: finalPrice, qty: qty, size: size })\n                return \n            }\n            return \n            \n            //console.log(data);\n        }\n        await dispatch({ type: \"ADD\", id: props.foodItem._id, name: props.foodItem.name, price: finalPrice, qty: qty, size: size })\n    }\n\n    let finalPrice = qty * parseInt(options[size]);\n    useEffect(() => {\n        setSize(priceRef.current.value)\n    }, [])\n\n    return (\n        <div>\n\n            <div>\n                <div className=\"card mt-3\" style={{ \"width\": \"18rem\", \"maxHeight\": \"360px\" }}>\n                    <img src={props.foodItem.img} className=\"card-img-top\" style={{ height: \"120px\", objectFit: 'fill' }} alt=\"...\" />\n                    <div className=\"card-body\">\n                        <h5 className=\"card-title\">{props.foodItem.name}</h5>\n                        <div className='container w-100'>\n                            <select className='m-2 h-100  rounded' style={{ backgroundColor: \"#800000\" }} onChange={(e) => setQty(e.target.value)}>\n                                {Array.from(Array(6), (e, i) => {\n                                    return (\n                                        <option key={i + 1} value={i + 1} > {i + 1} </option>\n                                    )\n\n                                })}\n                            </select>\n\n                            <select className='m-2 h-100  rounded' ref={priceRef} style={{ backgroundColor: \"#800000\" }} onChange={(e) => setSize(e.target.value)}>\n                                {priceOptions.map((data) => {\n                                    return <option key={data} value={data}>{data}</option>\n                                })\n\n                                }\n                            </select>\n\n                            <div className='d-inline h-100 fs-5'>\n                                â‚¹{finalPrice}/-\n                            </div>\n\n                        </div>\n                        <hr>\n                        </hr>\n                        <button className='btn btn-outline-dark text-white justify-center ms-2' style={{ backgroundColor: \"#800000\" }} onClick={handleAddToCart} >Add to Cart</button>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}