{"ast":null,"code":"import React,{createContext,useContext,useReducer}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const CartStateContext=/*#__PURE__*/createContext();const CartDispatchContext=/*#__PURE__*/createContext();const reducer=(state,action)=>{switch(action.type){case\"ADD\":return[...state,{id:action.id,name:action.name,qty:action.qty,size:action.size,price:action.price,img:action.img}];case\"REMOVE\":let newArr=[...state];newArr.splice(action.index,1);return newArr;case\"UPDATE\":let arr=[...state];arr.find((food,index)=>{if(food.id===action.id){console.log(food.qty,parseInt(action.qty),action.price+food.price);arr[index]={...food,qty:parseInt(action.qty)+food.qty,price:action.price+food.price};}return arr;});return arr;case\"DROP\":let emptyArray=[];return emptyArray;default:console.log(\"error in reducer\");}};export const CartProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(reducer,[]);return/*#__PURE__*/_jsx(CartDispatchContext.Provider,{value:dispatch,children:/*#__PURE__*/_jsx(CartStateContext.Provider,{value:state,children:children})});};export const useCart=()=>useContext(CartStateContext);export const useDispatchCart=()=>useContext(CartDispatchContext);","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsx","_jsx","CartStateContext","CartDispatchContext","reducer","state","action","type","id","name","qty","size","price","img","newArr","splice","index","arr","find","food","console","log","parseInt","emptyArray","CartProvider","_ref","children","dispatch","Provider","value","useCart","useDispatchCart"],"sources":["/Users/amandeepkaur/Desktop/FoodHub copy/frontend/src/components/ContextReducer.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from 'react'\n\nconst CartStateContext = createContext();\nconst CartDispatchContext = createContext();\n\nconst reducer = (state,action) =>{\nswitch(action.type){\n    case \"ADD\":\n        return [...state,\n            {id:action.id, name:action.name, qty:action.qty, \n            size:action.size, price:action.price, img:action.img\n        }]\n    case \"REMOVE\":\n        let newArr = [...state]\n        newArr.splice(action.index,1)\n        return newArr;\n    case \"UPDATE\":\n        let arr = [...state]\n        arr.find((food,index)=>{\n            if(food.id===action.id){\n                console.log(food.qty, parseInt(action.qty), action.price + food.price)\n                arr[index] = { ...food, qty: parseInt(action.qty) + food.qty, price: action.price + food.price }\n            }\n            return arr\n        })\n        return arr\n        case \"DROP\":\n            let emptyArray = []\n            return emptyArray\n        default:\n            console.log(\"error in reducer\");\n}\n\n}\n\nexport const CartProvider = ({children})=>{\n\n    const[state,dispatch] = useReducer(reducer,[]);\n    return (\n        <CartDispatchContext.Provider value={dispatch}>\n            <CartStateContext.Provider value={state}>\n                {children}\n            </CartStateContext.Provider>\n        </CartDispatchContext.Provider>\n\n    )\n}\n\nexport const useCart = () => useContext(CartStateContext);\nexport const useDispatchCart = () => useContext(CartDispatchContext);"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,UAAU,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,yBAEpE,KAAM,CAAAC,gBAAgB,cAAGL,aAAa,CAAC,CAAC,CACxC,KAAM,CAAAM,mBAAmB,cAAGN,aAAa,CAAC,CAAC,CAE3C,KAAM,CAAAO,OAAO,CAAGA,CAACC,KAAK,CAACC,MAAM,GAAI,CACjC,OAAOA,MAAM,CAACC,IAAI,EACd,IAAK,KAAK,CACN,MAAO,CAAC,GAAGF,KAAK,CACZ,CAACG,EAAE,CAACF,MAAM,CAACE,EAAE,CAAEC,IAAI,CAACH,MAAM,CAACG,IAAI,CAAEC,GAAG,CAACJ,MAAM,CAACI,GAAG,CAC/CC,IAAI,CAACL,MAAM,CAACK,IAAI,CAAEC,KAAK,CAACN,MAAM,CAACM,KAAK,CAAEC,GAAG,CAACP,MAAM,CAACO,GACrD,CAAC,CAAC,CACN,IAAK,QAAQ,CACT,GAAI,CAAAC,MAAM,CAAG,CAAC,GAAGT,KAAK,CAAC,CACvBS,MAAM,CAACC,MAAM,CAACT,MAAM,CAACU,KAAK,CAAC,CAAC,CAAC,CAC7B,MAAO,CAAAF,MAAM,CACjB,IAAK,QAAQ,CACT,GAAI,CAAAG,GAAG,CAAG,CAAC,GAAGZ,KAAK,CAAC,CACpBY,GAAG,CAACC,IAAI,CAAC,CAACC,IAAI,CAACH,KAAK,GAAG,CACnB,GAAGG,IAAI,CAACX,EAAE,GAAGF,MAAM,CAACE,EAAE,CAAC,CACnBY,OAAO,CAACC,GAAG,CAACF,IAAI,CAACT,GAAG,CAAEY,QAAQ,CAAChB,MAAM,CAACI,GAAG,CAAC,CAAEJ,MAAM,CAACM,KAAK,CAAGO,IAAI,CAACP,KAAK,CAAC,CACtEK,GAAG,CAACD,KAAK,CAAC,CAAG,CAAE,GAAGG,IAAI,CAAET,GAAG,CAAEY,QAAQ,CAAChB,MAAM,CAACI,GAAG,CAAC,CAAGS,IAAI,CAACT,GAAG,CAAEE,KAAK,CAAEN,MAAM,CAACM,KAAK,CAAGO,IAAI,CAACP,KAAM,CAAC,CACpG,CACA,MAAO,CAAAK,GAAG,CACd,CAAC,CAAC,CACF,MAAO,CAAAA,GAAG,CACV,IAAK,MAAM,CACP,GAAI,CAAAM,UAAU,CAAG,EAAE,CACnB,MAAO,CAAAA,UAAU,CACrB,QACIH,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,CAC3C,CAEA,CAAC,CAED,MAAO,MAAM,CAAAG,YAAY,CAAGC,IAAA,EAAc,IAAb,CAACC,QAAQ,CAAC,CAAAD,IAAA,CAEnC,KAAK,CAACpB,KAAK,CAACsB,QAAQ,CAAC,CAAG5B,UAAU,CAACK,OAAO,CAAC,EAAE,CAAC,CAC9C,mBACIH,IAAA,CAACE,mBAAmB,CAACyB,QAAQ,EAACC,KAAK,CAAEF,QAAS,CAAAD,QAAA,cAC1CzB,IAAA,CAACC,gBAAgB,CAAC0B,QAAQ,EAACC,KAAK,CAAExB,KAAM,CAAAqB,QAAA,CACnCA,QAAQ,CACc,CAAC,CACF,CAAC,CAGvC,CAAC,CAED,MAAO,MAAM,CAAAI,OAAO,CAAGA,CAAA,GAAMhC,UAAU,CAACI,gBAAgB,CAAC,CACzD,MAAO,MAAM,CAAA6B,eAAe,CAAGA,CAAA,GAAMjC,UAAU,CAACK,mBAAmB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}