{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){const[credentials,setcredentials]=useState({email:\"\",password:\"\"});let navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();console.log(JSON.stringify({email:credentials.email,password:credentials.password}));const response=await fetch(\"http://localhost:4000/api/loginuser\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:credentials.email,password:credentials.password})});const json=await response.json();console.log(json);if(!json.success){alert(\"Enter Valid Credentials\");}if(json.success){localStorage.setItem(\"userEmail\",credentials.email);localStorage.setItem(\"authToken\",json.authToken);console.log(localStorage.getItem(\"authToken\"));navigate(\"/\");}};const onChange=event=>{setcredentials({...credentials,[event.target.name]:event.target.value});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",value:credentials.email,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",value:credentials.password,onChange:onChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"m-3 btn btn-primary\",children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{to:\"/createuser\",className:\"m-3 btn btn-danger\",children:\"Register\"})]})})});}","map":{"version":3,"names":["React","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","credentials","setcredentials","email","password","navigate","handleSubmit","e","preventDefault","console","log","JSON","stringify","response","fetch","method","headers","body","json","success","alert","localStorage","setItem","authToken","getItem","onChange","event","target","name","value","children","className","onSubmit","htmlFor","type","to"],"sources":["/Users/amandeepkaur/Desktop/FoodHub copy/frontend/src/screens/Login.js"],"sourcesContent":["import React, {useState} from 'react'\nimport {Link,useNavigate} from 'react-router-dom'\n\nexport default function Login() {\n\n  const [credentials, setcredentials] = useState({email: \"\" ,password: \"\" })\n let navigate = useNavigate();\n  const handleSubmit = async(e) =>{\n      e.preventDefault();\n      console.log(JSON.stringify({email:credentials.email,password:credentials.password}))\n      const response = await fetch(\"http://localhost:4000/api/loginuser\",{\n          method:'POST',\n          headers:{\n              'Content-Type':'application/json'\n          },\n          body:JSON.stringify({email:credentials.email,password:credentials.password})\n      });\n      const json = await response.json()\n      console.log(json);\n\n      if(!json.success){\n          alert(\"Enter Valid Credentials\")\n      }\n      if(json.success){\n        localStorage.setItem(\"userEmail\",credentials.email);\n        localStorage.setItem(\"authToken\",json.authToken)\n        console.log(localStorage.getItem(\"authToken\"))\n        navigate(\"/\");\n    }\n  }\n\n  const onChange = (event) =>{\n      setcredentials({...credentials,[event.target.name]:event.target.value})\n  }\n  return (\n    <>\n\n<div className='container'> \n            <form onSubmit={handleSubmit}>\n               \n                <div className=\"mb-3\">\n                    <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Email address</label>\n                    <input type=\"email\" className=\"form-control\" name='email' value={credentials.email} onChange={onChange} />\n                    \n                </div>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Password</label>\n                    <input type=\"password\" className=\"form-control\" name='password' value={credentials.password} onChange={onChange} />\n                </div>\n                \n                \n                \n                <button type=\"submit\" className=\"m-3 btn btn-primary\">Submit</button>\n                <Link to='/createuser' className='m-3 btn btn-danger'>Register</Link>\n            </form>\n        </div>\n    \n    </>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}